# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–µ–Ω—é –ø–æ—Å–ª–µ –¥–µ–π—Å—Ç–≤–∏–π

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!

### üîß –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ –¥–µ–π—Å—Ç–≤–∏–π (—Ñ–∞—Ä–º/–±–æ–Ω—É—Å/–º–∞–π–Ω–∏–Ω–≥) —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –º–µ–Ω—é.

**–†–µ—à–µ–Ω–∏–µ:** ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–µ–Ω—é —Å `editMessageText`.

## üîÑ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:

### **1. –§—É–Ω–∫—Ü–∏—è updateMinerMenu:**
```javascript
async function updateMinerMenu(ctx, user) {
  // –°–æ–∑–¥–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –º–µ–Ω—é –º–∞–π–Ω–µ—Ä–∞
  const message = `‚õèÔ∏è *–ú–∞–π–Ω–µ—Ä*\n\nüìä *–°—Ç–∞—Ç—É—Å:* ${statusText}\n...`;
  const keyboard = Markup.inlineKeyboard([...]);
  
  try {
    await ctx.editMessageText(message, {
      parse_mode: 'Markdown',
      reply_markup: keyboard.reply_markup
    });
  } catch (error) {
    // Fallback: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–æ–≤–æ–µ –º–µ–Ω—é
    await showMinerMenu(ctx, user);
  }
}
```

### **2. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π:**

#### **–ú–∞–π–Ω–∏–Ω–≥:**
```javascript
// –ó–∞–ø—É—Å–∫ –º–∞–π–Ω–µ—Ä–∞
await ctx.answerCbQuery('‚úÖ –ú–∞–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω! –¢–µ–ø–µ—Ä—å –≤—ã –±—É–¥–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å Stars –∫–∞–∂–¥—ã–π —á–∞—Å.');
await updateMinerMenu(ctx, { ...user, miner: { ...user.miner, active: true } });

// –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–∞–π–Ω–µ—Ä–∞
await ctx.answerCbQuery('‚èπÔ∏è –ú–∞–π–Ω–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!');
await updateMinerMenu(ctx, { ...user, miner: { ...user.miner, active: false } });
```

#### **–§–∞—Ä–º:**
```javascript
await ctx.answerCbQuery('üåæ –§–∞—Ä–º –∑–∞–≤–µ—Ä—à–µ–Ω! –ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ: 0.11 Stars');
await updateFarmMenu(ctx, { ...user, farm: { ...farm, lastFarm: new Date() } });
```

#### **–ë–æ–Ω—É—Å:**
```javascript
await ctx.answerCbQuery('üéÅ –ë–æ–Ω—É—Å –ø–æ–ª—É—á–µ–Ω! –ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ: 15 Stars, —Å–µ—Ä–∏—è: 3 –¥–Ω—è');
await updateBonusMenu(ctx, { ...user, dailyBonus: { ...bonus, lastBonus: now, streak: newStreak } });
```

### **3. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫—É–ª–¥–∞—É–Ω–æ–≤:**
```javascript
bot.action('farm_cooldown', async (ctx) => {
  await ctx.answerCbQuery('‚è≥ –ü–æ–¥–æ–∂–¥–∏—Ç–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∫—É–ª–¥–∞—É–Ω–∞!');
});

bot.action('bonus_cooldown', async (ctx) => {
  await ctx.answerCbQuery('‚è≥ –ü–æ–¥–æ–∂–¥–∏—Ç–µ –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –±–æ–Ω—É—Å–∞!');
});
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:

### ‚úÖ –¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ:
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –∫–æ—Ä–æ—Ç–∫–∏–µ –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é** - —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –º–µ–Ω—é –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å –Ω–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- **–ß–∞—Ç –æ—Å—Ç–∞–µ—Ç—Å—è —á–∏—Å—Ç—ã–º** - –Ω–∏–∫–∞–∫–∏—Ö –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- **–ê–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - –º–µ–Ω—é –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### üì± –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

#### **–§–∞—Ä–º:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "üåæ –§–∞—Ä–º–∏—Ç—å"
2. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "üåæ –§–∞—Ä–º –∑–∞–≤–µ—Ä—à–µ–Ω! –ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ: 0.11 Stars"
3. –ú–µ–Ω—é —Ñ–∞—Ä–º–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—É–ª–¥–∞—É–Ω –∏ –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ)
4. **–ù–ï —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ**

#### **–ë–æ–Ω—É—Å:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "üéÅ –ü–æ–ª—É—á–∏—Ç—å –±–æ–Ω—É—Å"
2. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "üéÅ –ë–æ–Ω—É—Å –ø–æ–ª—É—á–µ–Ω! –ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ: 15 Stars, —Å–µ—Ä–∏—è: 3 –¥–Ω—è"
3. –ú–µ–Ω—é –±–æ–Ω—É—Å–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—É–ª–¥–∞—É–Ω –∏ –Ω–æ–≤—É—é —Å–µ—Ä–∏—é)
4. **–ù–ï —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ**

#### **–ú–∞–π–Ω–∏–Ω–≥:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∞–π–Ω–µ—Ä"
2. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "‚úÖ –ú–∞–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω!"
3. –ú–µ–Ω—é –º–∞–π–Ω–µ—Ä–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "–ê–∫—Ç–∏–≤–µ–Ω")
4. **–ù–ï —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ**

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ `editMessageText`:
- **–û–±–Ω–æ–≤–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ** - –Ω–µ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–µ
- **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–µ—Ç—Å—è –≤ —Ç–æ–º –∂–µ –º–µ–Ω—é
- **–≠–∫–æ–Ω–æ–º–∏—Ç –º–µ—Å—Ç–æ** - –Ω–µ –∑–∞—Å–æ—Ä—è–µ—Ç —á–∞—Ç
- **–õ—É—á—à–∏–π UX** - –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã

### Fallback –º–µ—Ö–∞–Ω–∏–∑–º:
```javascript
try {
  await ctx.editMessageText(message, { ... });
} catch (error) {
  // –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–æ–≤–æ–µ –º–µ–Ω—é
  await showMinerMenu(ctx, user);
}
```

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:
–ò–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ Railway –∏ –±—É–¥—É—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

### –í —á–∞—Ç–µ:
- ‚úÖ –¢–æ–ª—å–∫–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –¥–µ–π—Å—Ç–≤–∏—è—Ö
- ‚úÖ –ú–µ–Ω—é –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –±–µ–∑ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–∞
- ‚úÖ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏ —á–∏—Å—Ç—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## üéä –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤–∞—à –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç **–∏–¥–µ–∞–ª—å–Ω–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ**:
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è + –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é
- ‚úÖ –ù–∏–∫–∞–∫–æ–≥–æ —Å–ø–∞–º–∞
- ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- ‚úÖ –û—Ç–ª–∏—á–Ω—ã–π UX

**–ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!** üöÄüí∞