# üìù –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è Magnum Stars Bot

## üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ —Å –ø–æ–ª–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ npm script
```bash
npm run logging
```

### –°–ø–æ—Å–æ–± 2: –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫
```bash
node start-with-logging.js
```

## üìã –§–∞–π–ª—ã –ª–æ–≥–æ–≤

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤ –ø–∞–ø–∫–µ `./logs/` –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã:

### üîç `user_actions.log`
–î–µ—Ç–∞–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:
```json
{
  "timestamp": "2025-01-27T18:30:00.000Z",
  "userId": 123456789,
  "action": "button_tasks_sponsor",
  "details": "–ù–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞ RichAds –æ—Ñ—Ñ–µ—Ä—ã",
  "memory": { "rss": 71303168, "heapTotal": 39034880 },
  "uptime": 120.5
}
```

### ‚ùå `error_log.log`
–û—à–∏–±–∫–∏ —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º:
```json
{
  "timestamp": "2025-01-27T18:30:00.000Z",
  "userId": 123456789,
  "context": "showSponsorTasks",
  "error": {
    "message": "Cannot read property 'length' of undefined",
    "stack": "TypeError: Cannot read property...",
    "name": "TypeError"
  },
  "memory": { "rss": 71303168 },
  "uptime": 120.5
}
```

### ü§ñ `bot.log`
–û–±—â–∏–µ –ª–æ–≥–∏ –±–æ—Ç–∞ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏:
```
[2025-01-27T18:30:00.000Z] üöÄ –ó–∞–ø—É—Å–∫ Magnum Stars Bot...
[2025-01-27T18:30:01.000Z] ‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
[2025-01-27T18:30:05.000Z] üîç [USER_ACTION] User 123456789 | Action: button_tasks_sponsor
```

## üéØ –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### RichAds –æ—Ñ—Ñ–µ—Ä—ã:
- `button_tasks_sponsor` - –ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ RichAds –æ—Ñ—Ñ–µ—Ä—ã
- `showSponsorTasks` - –ü–æ–∫–∞–∑ —Å–ø–∏—Å–∫–∞ –æ—Ñ—Ñ–µ—Ä–æ–≤
- `getRichAdsTasks` - –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ñ—Ñ–µ—Ä–æ–≤
- `showSponsorTaskDetails` - –ü–æ–∫–∞–∑ –¥–µ—Ç–∞–ª–µ–π –æ—Ñ—Ñ–µ—Ä–∞
- `findTaskInDetails` - –ü–æ–∏—Å–∫ –æ—Ñ—Ñ–µ—Ä–∞ –≤ –¥–µ—Ç–∞–ª—è—Ö
- `verifySponsorTask` - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ñ—Ñ–µ—Ä–∞
- `claimSponsorTask` - –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥—ã

### –û–±—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:
- `userFound` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω
- `userNotFound` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω
- `showSponsorTasksComplete` - –û—Ñ—Ñ–µ—Ä—ã –ø–æ–∫–∞–∑–∞–Ω—ã —É—Å–ø–µ—à–Ω–æ

## üîß –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º:**
   ```bash
   npm run logging
   ```

2. **–û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram**

3. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ó–∞–¥–∞–Ω–∏—è"
   - –ù–∞–∂–º–∏—Ç–µ "RichAds –æ—Ñ—Ñ–µ—Ä—ã"
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ –æ—Ñ—Ñ–µ—Ä–∞
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ—Ñ—Ñ–µ—Ä

4. **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–æ—Ç–∞** (Ctrl+C)

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã –ª–æ–≥–æ–≤** –≤ –ø–∞–ø–∫–µ `./logs/`

## üìä –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

### –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫:
```bash
grep "ERROR" logs/error_log.log
```

### –ü–æ–∏—Å–∫ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```bash
grep "123456789" logs/user_actions.log
```

### –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è:
```bash
grep "button_tasks_sponsor" logs/user_actions.log
```

## üêõ –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ï—Å–ª–∏ RichAds –æ—Ñ—Ñ–µ—Ä—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `user_actions.log` –Ω–∞ –Ω–∞–ª–∏—á–∏–µ `getRichAdsTasks`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `error_log.log` –Ω–∞ –æ—à–∏–±–∫–∏
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–µ–º–æ-–æ—Ñ—Ñ–µ—Ä—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è

### –ï—Å–ª–∏ –∫–Ω–æ–ø–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `user_actions.log` –Ω–∞ –Ω–∞–ª–∏—á–∏–µ `button_tasks_sponsor`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `error_log.log` –Ω–∞ –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –ï—Å–ª–∏ –æ—Ñ—Ñ–µ—Ä—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `showSponsorTasks` –≤ `user_actions.log`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `findTaskInDetails` –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—Ñ—Ñ–µ—Ä–æ–≤

## üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –ª–æ–≥–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã:
- `logs/user_actions.log`
- `logs/error_log.log`
- `logs/bot.log`

–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞—Ä—Ö–∏–≤:
```bash
zip -r logs.zip logs/
```

## üîÑ –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤

–î–ª—è –æ—á–∏—Å—Ç–∫–∏ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤:
```bash
rm -rf logs/
```

–ò–ª–∏ —É–¥–∞–ª–∏—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:
```bash
rm logs/user_actions.log
rm logs/error_log.log
rm logs/bot.log
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏:
–í —Ñ–∞–π–ª–µ `magnum-bot-final.js` –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:

```javascript
// –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π
logAction(userId, 'action', { 
  param1: value1, 
  param2: value2,
  timestamp: new Date().toISOString()
});
```

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
–ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤—ã–∑–æ–≤—ã `logAction` –∏ `logErrorWithContext` –≤ –∫–æ–¥–µ.

---

**üìù –¢–µ–ø–µ—Ä—å –∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ RichAds –æ—Ñ—Ñ–µ—Ä—ã!**
